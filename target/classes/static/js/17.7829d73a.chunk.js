(this.webpackJsonperpclient=this.webpackJsonperpclient||[]).push([[17],{332:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var a=n(40),c=function(){return{type:a.e}},r=function(){return{type:a.b}},i=function(e){return{type:a.c,formData:e}}},334:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(68),c=n(0),r=n.n(c),i=n(729),l=n(724),s=(n(110),n(93)),o=n(94),d=n(1),u=r.a.memo((function(e){var t=e.data,n=e.handlRowClick,c=Object(a.a)(e,["data","handlRowClick"]);return Object(d.jsxs)("div",{className:"grid-action-icon",children:[c.view&&Object(d.jsx)(i.a,{overlay:Object(d.jsx)(l.a,{id:"tooltip-view",children:"View"}),children:Object(d.jsx)(s.a,{icon:o.d,onClick:function(){return n(t,"view")}})}),c.edit&&Object(d.jsx)(i.a,{overlay:Object(d.jsx)(l.a,{id:"tooltip-edit",children:"Edit"}),children:Object(d.jsx)(s.a,{icon:o.c,onClick:function(){return n(t,"edit")}})}),c.list&&Object(d.jsx)(i.a,{overlay:Object(d.jsx)(l.a,{id:"tooltip-list",children:"List"}),children:Object(d.jsx)(s.a,{icon:o.f,onClick:function(){return n(t,"list")}})}),c.delete&&Object(d.jsx)(i.a,{overlay:Object(d.jsx)(l.a,{id:"tooltip-delete",children:"Delete"}),children:Object(d.jsx)(s.a,{icon:o.g,onClick:function(){return n(t,"delete")}})})]})}))},771:function(e,t,n){"use strict";n.r(t);var a=n(348),c=n.n(a),r=n(349),i=n(16),l=n(11),s=n(0),o=n(20),d=n(343),u=n.n(d),j=n(317),b=n(318),m=n(731),h=n(110),O=n(334),p=n(344),f=n(49),x=n(69),v=n(332),g=n(17),N=n(95),I=n(1),k=n(112);t.default=function(){var e=Object(o.c)(),t=Object(s.useState)([]),n=Object(i.a)(t,2),a=n[0],d=n[1],y=Object(s.useState)([]),w=Object(i.a)(y,2),F=w[0],S=w[1],C=Object(s.useState)([]),D=Object(i.a)(C,2),R=D[0],z=D[1],T=Object(s.useState)(null),W=Object(i.a)(T,2),M=W[0],P=W[1],q=Object(s.useState)(null),E=Object(i.a)(q,2),H=E[0],V=E[1];Object(s.useEffect)((function(){Object(x.j)().then((function(e){d(e.data.response)})).catch((function(e){d([])}))}),[]);var B=Object(s.useState)({left:8,right:4}),J=Object(i.a)(B,1)[0],L=Object(s.useState)(null),A=Object(i.a)(L,2),U=A[0],G=A[1],K=Object(s.useState)(!1),Q=Object(i.a)(K,2),X=Q[0],Y=Q[1],Z=Object(s.useState)({}),$=Object(i.a)(Z,2),_=$[0],ee=$[1],te=[{name:"id",header:"S.No",minWidth:50,defaultFlex:1},{name:"title",header:"Title",maxWidth:200,defaultFlex:1},{name:"description",header:"Description",maxWidth:200,defaultFlex:1},{name:"moduleId",header:"Module ID",maxWidth:200,defaultFlex:1},{name:"parentId",header:"Parent ID",maxWidth:200,defaultFlex:1},{name:"",header:"Action",defaultFlex:1,sortable:!1,render:function(e){var t=e.data;return Object(I.jsx)(O.a,{data:t,handlRowClick:ae,edit:!0})}}],ne=function(e){V(e.target.value),function(){var t=Object(r.a)(c.a.mark((function t(){var n,a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://dev-erp1.mnit.ac.in:8080/content/menuTreeOfModule/"+e.target.value);case 2:return n=t.sent,t.next=5,n.json();case 5:(a=t.sent).response?z(a.response):z({});case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()},ae=Object(s.useCallback)((function(t,n){e(Object(v.a)(t)),"edit"===n&&(console.log(t),Y(!0),ee(t))}),[]);Object(s.useEffect)((function(){X&&(console.log(_),P(_.moduleId),de(_))}),[X,_]);var ce=function(e){if(e.target.value){var t=function(){var t=Object(r.a)(c.a.mark((function t(){var n,a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://dev-erp1.mnit.ac.in:8080/content/menuTreeOfModule/"+e.target.value);case 2:return n=t.sent,t.next=5,n.json();case 5:(a=t.sent).response?S(a.response.map((function(e){return{label:e.title,value:e.id}}))):S({});case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();P(e.target.value),t()}else alert("please select module name")},re=Object(s.useState)({title:"",moduleId:"",parentId:"",description:""}),ie=Object(i.a)(re,1)[0],le=Object(s.useState)({}),se=Object(i.a)(le,2),oe=se[0],de=se[1],ue=function(){var t=Object(r.a)(c.a.mark((function t(n,a){var r,i,l,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=a.resetForm,n.moduleId=M,i={},n.title){t.next=6;break}return i.title=alert("Title is required"),t.abrupt("return",!1);case 6:if(n.moduleId){t.next=9;break}return i.moduleId=alert("Module ID is required"),t.abrupt("return",!1);case 9:return t.prev=9,e(Object(v.c)()),t.next=13,g.a.Request(void 0===n.id?"POST":"PUT","http://dev-erp1.mnit.ac.in:8080/content/menu",n);case 13:l=t.sent,c=l,U.current.reload(),console.log("Recored added, append to list",c),e(Object(v.b)()),N.a.success(l.data.message),r({initialValues:ie}),Y(!1),t.next=26;break;case 21:t.prev=21,t.t0=t.catch(9),e(Object(v.b)()),s=void 0===t.t0.message?t.t0:t.t0.message,N.a.error(s);case 26:case"end":return t.stop()}var c}),t,null,[[9,21]])})));return function(e,n){return t.apply(this,arguments)}}();return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("div",{className:"container",children:Object(I.jsx)("nav",{"aria-label":"breadcrumb",children:Object(I.jsxs)("ol",{className:"breadcrumb",children:[Object(I.jsx)("li",{className:"theme-font-size breadcrumb-item",children:Object(I.jsx)(l.b,{className:"theme-color",to:"/dashboard",children:k.home})}),Object(I.jsx)("li",{className:"theme-font-size breadcrumb-item active","aria-current":"page",children:k.menus})]})})}),Object(I.jsx)(j.a,{children:Object(I.jsx)(b.a,{children:Object(I.jsx)(f.c,{children:function(e){return Object(I.jsx)(f.b,{children:Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{className:"theme-font-size",htmlFor:"moduleId",children:k.module}),Object(I.jsxs)(f.a,{as:"select",value:H,onChange:ne,name:"moduleId",id:"moduleId",className:"form-control",children:[Object(I.jsx)("option",{value:"",children:k.selectmodule}),null===a||void 0===a?void 0:a.map((function(e,t){return Object(I.jsx)("option",{value:e.id,children:e.name},t)}))]})]})})}})})}),Object(I.jsxs)(j.a,{children:[Object(I.jsx)(b.a,{md:{span:J.left},children:Object(I.jsxs)(m.a,{children:[Object(I.jsx)(m.a.Header,{children:k.tableRecords}),Object(I.jsx)(m.a.Body,{children:Object(I.jsx)(u.a,{onReady:G,idProperty:"id",style:{minHeight:400},columns:te,dataSource:R})})]})}),Object(I.jsx)(b.a,{md:{span:J.right},children:Object(I.jsxs)(m.a,{children:[Object(I.jsx)(m.a.Header,{children:k.menusForm}),Object(I.jsx)(m.a.Body,{children:Object(I.jsx)("div",{children:Object(I.jsx)(p.a,{dataLength:60,height:400,children:Object(I.jsx)(f.c,{initialValues:X?oe:ie,enableReinitialize:!0,onSubmit:ue,children:function(e){return Object(I.jsxs)(f.b,{id:"menuForm",children:[Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{className:"theme-font-size",htmlFor:"title",children:k.title}),Object(I.jsx)(f.a,{id:"title",className:"form-control",name:"title",placeholder:"Title"})]}),Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{htmlFor:"moduleId",children:k.module}),Object(I.jsxs)(f.a,{as:"select",value:M,onChange:ce,name:"moduleId",id:"moduleId",className:"form-control",children:[Object(I.jsx)("option",{value:"",children:"---"}),null===a||void 0===a?void 0:a.map((function(e,t){return Object(I.jsx)("option",{value:e.id,children:e.name},t)}))]})]}),Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{className:"theme-font-size",htmlFor:"parentId",children:k.parent}),Object(I.jsxs)(f.a,{as:"select",name:"parentId",id:"parentId",className:"form-control",children:[Object(I.jsx)("option",{value:"",children:"---"}),null===F||void 0===F?void 0:F.map((function(e,t){return Object(I.jsx)("option",{value:e.value,children:e.label},t)}))]})]}),Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{className:"theme-font-size",htmlFor:"description",children:k.Description}),Object(I.jsx)(f.a,{id:"description",className:"form-control",name:"description",placeholder:"Description"})]}),Object(I.jsx)(h.a,{className:"theme-back-color",variant:"primary",type:"submit",children:k.save})]})}})})})})]})})]})]})}}}]);
//# sourceMappingURL=17.7829d73a.chunk.js.map